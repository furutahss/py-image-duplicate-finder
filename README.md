# py-image-duplicate-finder

指定したディレクトリ配下の画像およびRAWファイルを全階層にわたってスキャンし、バイナリデータ（ハッシュ値）に基づいて重複ファイルを検知する高速CLIツールです。

## 概要

ファイル名が異なっていても、中身が完全に一致するファイルを「重複」としてリストアップします。

多コアCPUを搭載した環境において、並列処理によって大量の画像データを高速に解析することを目的としています。

## 主な機能

- 再帰的探索: 指定フォルダ配下のすべてのサブディレクトリを自動的にスキャンします。
- 高精度な判定: ファイル全体をMD5ハッシュで計算するため、1ビットでも異なるファイルは重複とみなしません。
- 並列処理 (Multiprocessing): ProcessPoolExecutor を活用し、各CPUコアで同時にハッシュ計算を行います。
- RAWファイル対応: SONY (.arw), Canon (.cr2, .cr3), Adobe (.dng) などの主要なRAWフォーマットをサポートしています。
- システムファイル除外: .DS_Store などのドットから始まる隠しファイルやシステムファイルを自動的に無視します。
- メモリ最適化: 大容量のRAWファイルでも、メモリを圧迫しないようチャンク読み込み（分割読み込み）を実装しています。

## 使い方

1. 以下のコマンドを実行します。

```bash
python main.py [対象ディレクトリのパス]
```

2. 処理完了後、実行ディレクトリに `result_yyyymmdd_hhMMSS.txt` という形式でレポートが出力されます。

## サポートする拡張子

- 標準画像: `.jpg`, `.jpeg`, `.png`, `.gif`, `.bmp`, `.webp`, `.tiff`
- RAWデータ: `.arw`, `.cr2`, `.cr3`, `.nef`, `.orf`, `.raf`, `.dng`, `.rw2`

## レポート形式

出力されるテキストファイルには、以下の情報が記載されます。

- スキャン対象の総数
- 重複が見つかったグループの合計数
- 重複グループごとのファイルパス一覧
